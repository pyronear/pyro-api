Enum "userrole" {
  "admin"
  "agent"
  "user"
}

Table "User" as U {
  "id" int [not null]
  "role" userrole [not null]
  "organization_id" int [ref: > S.id, not null]
  "login" str [not null]
  "hashed_password" str [not null]
  "created_at" timestamp [not null]
  Indexes {
    (id, login) [pk]
  }
}

Table "Camera" as C {
  "id" int [not null]
  "organization_id" int [ref: > S.id, not null]
  "name" str [not null]
  "angle_of_view" float [not null]
  "elevation" float [not null]
  "lat" float [not null]
  "lon" float [not null]
  "is_trustable" bool [not null]
  "created_at" timestamp [not null]
  "last_active_at" timestamp
  Indexes {
    (id) [pk]
  }
}

Table "Detection" as D {
  "id" int [not null]
  "camera_id" int [ref: > C.id, not null]
  "azimuth" float [not null]
  "bucket_key" str [not null]
  "is_wildfire" bool
  "created_at" timestamp [not null]
  "updated_at" timestamp [not null]
  Indexes {
    (id) [pk]
  }
}

Enum typesite {
  "particulier"
    "sdis"
}

Table "Organization" as S {
  "id" int [not null]
  "name" str [not null]
  "type" type_site [not null]
}
